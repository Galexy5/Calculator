<!DOCTYPE html>
<html>
<head>
		<link rel="stylesheet" type="text/css" href="calc.css">
		<meta content="text/html;charset=utf-8" http-equiv="Content-Type">
<meta content="utf-8" http-equiv="encoding">
	<title>Calculator</title>
</head>
<body>
<div class="calculator">
 <div class="screen">0</div>
	<div class="buttons">
		
		
		<button class="numbers" value="7">7</button>
		<button class="numbers" value="8">8</button>
		<button class="numbers" value="9">9</button>
		<button class="operators" value="/">/</button>
		<button class="numbers" value="4">4</button>
		<button class="numbers" value="5">5</button>
		<button class="numbers" value="6">6</button>
		<button class="operators" value="x">x</button>    
		<button class="numbers" value="1">1</button>	
		<button class="numbers" value="2">2</button>
		<button class="numbers" value="3">3</button>	
		<button class="operators" value="-">-</button>
		<button class="numbers" value="0">0</button>
		<button class="operators" value=".">.</button>
		<button class="operators" value="+">+</button>
		<button class="operators" value="=">=</button>
		
		<button class="operators" value="C">C</button>

	</div>

</div>
<script type="text/javascript">

let input=document.querySelector('.screen');

let op_pressed;
let screen=[]
let number="";

const buttons=document.querySelector('.buttons');

buttons.addEventListener("click", function(event)
{

	if(event.target.value!=undefined)
	{

		if(event.target.className=="numbers")
	{


		if(op_pressed=="=")
			{
				input.innerText="";
				op_pressed="";
			}

		if(input.innerText=="0")
		{
			input.innerText=event.target.value;  // Display on calculator
		}else{input.innerText+=event.target.value;}

		number+=event.target.value;
	}else
	{
			if(event.target.value!="="){input.innerText+=event.target.value;} // Display on calculator

			if(number!="" && event.target.value!=".")
			{
				screen.push(parseFloat(number));
				number="";
			}
			
			if(event.target.value==".")
			{
				number+=".";
			}else{screen.push(event.target.value);}
			

			if(event.target.value=="=")
			{
				screen.push(parseFloat(number));
				input.innerText=findResult(screen);
				screen.splice(1);
				op_pressed="="
			}


			if(event.target.value=="C")
			{
				input.innerText="0"
				number="";
				screen=[];
			}
	}
	}

	

	});


	
	




function findResult(arr)
{
	let res;

for (var i = arr.length-1; i > 0; i--) {
  if(arr[i]=="x")
  {
    res=arr[i-1]*arr[i+1]; //
    arr[i-1]=res;
    arr.splice(i,2);
    i=arr.length-1;
  }else if(arr[i]=="/")
  {
  	res=arr[i-1]/arr[i+1]; //
    arr[i-1]=res;
    arr.splice(i,2)
    i=arr.length-1;
  }
}



for (var y=0; y<arr.length; y++) 
{
  if(arr[y]=="+")
  {
    res=arr[y-1]+arr[y+1];
    arr[y-1]=res;
    arr.splice(y,2);
    y=0;
  }else if(arr[y]=="-")
  {
  	res=arr[y-1]-arr[y+1];
    arr[y-1]=res;
    arr.splice(y,2);
    y=0;
  }
    
}

return Math.round(res*10)/10;
}

</script> 
</body>
</html>